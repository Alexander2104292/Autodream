<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<title>Brutowinst per land (2005)</title>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body style="font-family: Arial; text-align:center; background:#f8f9fa;">

<h2>Brutowinst per land (2005)</h2>
<div id="kaart" style="width:90%;max-width:1200px;height:700px;margin:auto;"></div>

<script>
// CSV MET ; INLADEN
d3.dsv(";", "countries_2005.csv").then(function(data) {

    console.log(data);

    const landen = data.map(d => d.country);
    const brutowinst = data.map(d => +d.GrossMargin);

    const chartData = [{
        type: "choropleth",
        locationmode: "country names",
        locations: landen,
        z: brutowinst,
        colorscale: [
            [0, "lightgreen"],
            [1, "darkgreen"]
        ],
        autocolorscale: false,
        colorbar: { title: "Brutowinst (â‚¬)" }
    }];

    const layout = {
        title: "Brutowinst per land (2005)",
        geo: {
            projection: { type: "natural earth" },
            showframe: false,
            showcoastlines: false
        }
    };

    Plotly.newPlot("kaart", chartData, layout);
});
</script>
</body>
</html>
